<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://menglingqing.github.io</id>
    <title>å­Ÿä»¤å¿</title>
    <updated>2019-09-28T03:34:08.635Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://menglingqing.github.io"/>
    <link rel="self" href="https://menglingqing.github.io/atom.xml"/>
    <subtitle>æ¸©æ•…è€ŒçŸ¥æ–°</subtitle>
    <logo>https://menglingqing.github.io/images/avatar.png</logo>
    <icon>https://menglingqing.github.io/favicon.ico</icon>
    <rights>All rights reserved 2019, å­Ÿä»¤å¿</rights>
    <entry>
        <title type="html"><![CDATA[cssé•¿åº¦å•ä½]]></title>
        <id>https://menglingqing.github.io/post/css-chang-du-dan-wei</id>
        <link href="https://menglingqing.github.io/post/css-chang-du-dan-wei">
        </link>
        <updated>2019-09-28T03:32:06.000Z</updated>
        <content type="html"><![CDATA[<h1 id="cssé•¿åº¦å•ä½">cssé•¿åº¦å•ä½</h1>
<h2 id="1èƒŒæ™¯ä»‹ç»">1.èƒŒæ™¯ä»‹ç»</h2>
<p>æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦é€‰æ‹©åˆé€‚çš„ç½‘é¡µè®¾è®¡å•ä½ï¼Ÿ</p>
<p>éšç€Webçš„å‘å±•ï¼Œå¯¹æ–°çš„è§£å†³æ–¹æ¡ˆçš„éœ€æ±‚ä¹Ÿä¼šç»§ç»­å¢å¤§ï¼Œå¯¹ç½‘é¡µçš„è¦æ±‚æ›´é«˜ã€‚</p>
<p>ç½‘é¡µè®¾è®¡å•ä½æ¶‰åŠåˆ°æˆ‘ä»¬å¸ƒå±€æ•ˆæœï¼Œä½¿ç”¨ä¸åŒçš„å•ä½åº¦é‡ï¼Œä¼šå¯¹æœ€ç»ˆçš„æ•ˆæœé€ æˆå½±å“ã€‚</p>
<p>ä½•å†µï¼Œç°åœ¨äº’è”ç½‘å‘å±•è¿…çŒ›ï¼Œå¸¦ç»™æˆ‘ä»¬å¤šæ ·çš„æ˜¾ç¤ºè®¾å¤‡å’Œäº¤äº’ç•Œé¢ï¼Œæ¯”å¦‚ç”µè„‘ï¼Œæ‰‹æœºï¼ˆåˆ˜æµ·å±/å¯æŠ˜å å±ï¼‰ï¼Œå¹³æ¿ã€‚å¦‚æœåœ¨å¼€å‘ä¸­é€‰æ‹©çš„å•ä½ä¸åˆé€‚ï¼Œå¯èƒ½åœ¨è¿™ä¸ªè®¾å¤‡æ˜¾ç¤ºæ­£å¸¸ï¼Œåˆ°äº†å¦å¤–ä¸€ä¸ªè®¾å¤‡ä¸Šå°±ä¼šå‡ºç°å¼‚å¸¸ã€‚æœ€éš¾å—çš„å°±æ˜¯ä¼šå¸¦ç»™å…¶ä»–åŒäº‹bugï¼ˆæƒ³æƒ³ç°åœ¨é¡¹ç›®ä¸­çš„bugï¼Œæˆ‘éƒ½å«è‹¦ä¸è¿­ï¼‰</p>
<p>æ‰€ä»¥ï¼Œæˆ‘ä»¬å¼€å‘äººå‘˜éœ€è¦å¯¹ç—‡ä¸‹è¯ï¼Œå“¦ä¸ğŸ˜¯ï¼Œéœ€è¦é€‰æ‹©åˆé€‚çš„å•ä½è¿›è¡Œå¼€å‘/è®¾è®¡ï¼ˆå°å…¬å¸ï¼Œéœ€è¦æˆ‘ç¨å¾®åšç‚¹è®¾è®¡ğŸ˜„ï¼‰</p>
<h2 id="2çŸ¥è¯†å‰–æéƒ½æœ‰å“ªäº›é•¿åº¦">2.çŸ¥è¯†å‰–æï¼ˆéƒ½æœ‰å“ªäº›é•¿åº¦ï¼Ÿï¼‰</h2>
<h3 id="1p-x">1.p x</h3>
<p>ç»å¯¹å•ä½</p>
<p>pxæ˜¯pixelçš„ç¼©å†™ï¼Œç¿»è¯‘è¿‡æ¥å°±æ˜¯â€œåƒç´ â€çš„æ„æ€ã€‚pxå°±æ˜¯è®¾å¤‡æˆ–è€…å›¾ç‰‡ä¸­æœ€å°çš„ä¸€ä¸ªç‚¹ï¼Œæ¯”å¦‚å¸¸å¸¸å¬åˆ°çš„ç”µè„‘åƒç´ æ˜¯1024x768çš„ï¼Œè¡¨ç¤ºçš„æ˜¯æ°´å¹³æ–¹å‘æ˜¯1024ä¸ªåƒç´ ç‚¹ï¼Œå‚ç›´æ–¹å‘æ˜¯768ä¸ªåƒç´ ç‚¹ã€‚<br>
åƒç´ ï¼ˆpxï¼‰æ˜¯æˆ‘ä»¬ç½‘é¡µè®¾è®¡å¸¸ç”¨çš„å•ä½ï¼Œä¹Ÿæ˜¯åŸºæœ¬å•ä½ã€‚é€šè¿‡pxå¯ä»¥è®¾ç½®å›ºå®šçš„å¸ƒå±€æˆ–è€…å…ƒç´ å¤§å°ï¼Œç¼ºç‚¹æ˜¯æ²¡æœ‰å¼¹æ€§ã€‚</p>
<h3 id="2em">2.em</h3>
<p>ç›¸å¯¹é•¿åº¦å•ä½ã€‚å‚è€ƒç‰©æ˜¯çˆ¶å…ƒç´ çš„font-sizeï¼Œå…·æœ‰ç»§æ‰¿çš„ç‰¹ç‚¹ã€‚å¦‚æœè‡ªèº«å®šä¹‰äº†font-sizeï¼Œå°±ç›¸å¯¹äºå½“å‰å¯¹è±¡å†…æ–‡æœ¬çš„å­—ä½“å°ºå¯¸ã€‚å¦‚å½“å‰å¯¹è¡Œå†…æ–‡æœ¬çš„å­—ä½“å°ºå¯¸æœªè¢«äººä¸ºè®¾ç½®ï¼Œåˆ™ç›¸å¯¹äºæµè§ˆå™¨çš„é»˜è®¤å­—ä½“å°ºå¯¸ã€‚</p>
<p>ç‰¹ç‚¹ï¼šemçš„å€¼å¹¶ä¸æ˜¯å›ºå®šçš„ï¼› 2. emä¼šç»§æ‰¿çˆ¶çº§å…ƒç´ çš„å­—ä½“å¤§å°ã€‚</p>
<p>ä¾‹å¦‚ï¼šæ®µè½é¦–è¡Œä¼šç©ºå‡ºä¸¤ä¸ªæ ¼å­ï¼Œå¸¸ç”¨åˆ°2emï¼Œå°±æ˜¯è¿™ä¸ªé“ç†</p>
<h3 id="3rem">3.rem</h3>
<p>ç›¸å¯¹é•¿åº¦å•ä½ã€‚râ€™æ˜¯â€œrootâ€çš„ç¼©å†™ï¼Œç›¸å¯¹äºæ ¹å…ƒç´ <code>&lt;html&gt;</code>çš„å­—ä½“å¤§å°ã€‚</p>
<p>ä¼˜ç‚¹æ˜¯ï¼Œåªéœ€è¦è®¾ç½®æ ¹ç›®å½•çš„å¤§å°å°±å¯ä»¥æŠŠæ•´ä¸ªé¡µé¢çš„æˆæ¯”ä¾‹çš„è°ƒå¥½ã€‚</p>
<h3 id="4">4.%</h3>
<p>ç›¸å¯¹é•¿åº¦å•ä½ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæ˜¯ç›¸å¯¹äºçˆ¶çº§å…ƒç´ çš„ã€‚</p>
<p>å¯¹äºæ™®é€šå®šä½å…ƒç´ å°±æ˜¯æˆ‘ä»¬ç†è§£çš„çˆ¶çº§å…ƒç´ ï¼›å¯¹äºposition:absoluteçš„å…ƒç´ æ˜¯ç›¸å¯¹äºå·²å®šä½çš„çˆ¶çº§å…ƒç´ ï¼›å¯¹äºposition: fixedçš„å…ƒç´ æ˜¯ç›¸å¯¹äºviewportï¼ˆå¯è§†çª—å£ï¼‰</p>
<p>ç®€å•çš„ç†è§£å°±æ˜¯ï¼Œ%ç›¸å¯¹äºåŒ…å«å®ƒçš„æœ€é è¿‘ç‚¹çˆ¶çº§å…ƒç´ çš„é«˜åº¦å’Œå®½åº¦</p>
<h3 id="5v-w-v-h">5.v w | v h</h3>
<p>css3æ–°å•ä½ï¼ŒæŒ‡çš„æ˜¯å¯è§†çª—å£çš„å®½åº¦å’Œé«˜åº¦</p>
<p>1vh ç­‰äº1/100çš„è§†å£é«˜åº¦ï¼Œ1vw ç­‰äº1/100çš„è§†å£å®½åº¦</p>
<p>æ¯”å¦‚ï¼šæµè§ˆå™¨é«˜åº¦900pxï¼Œå®½åº¦ä¸º750px, 1 vh = 900px/100 = 9 pxï¼Œ1vw = 750px/100 = 7.5 pxã€‚</p>
<h3 id="6vmin-vmax">6.vmin | vmax</h3>
<p>å…³äºå¯è§†çª—å£é«˜åº¦å’Œå®½åº¦ä¸¤è€…çš„æœ€å°å€¼å’Œæœ€å¤§å€¼</p>
<p>æ¯”å¦‚ï¼Œæµè§ˆå™¨çš„å®½åº¦è®¾ç½®ä¸º1200pxï¼Œé«˜åº¦è®¾ç½®ä¸º800pxï¼Œ 1vmax = 1200/100px = 12pxï¼Œ 1vmin = 800/100px = 8pxã€‚å¦‚æœå®½åº¦è®¾ç½®ä¸º600px,é«˜åº¦è®¾ç½®ä¸º1080px, 1vminå°±ç­‰äº6px, 1vmaxåˆ™æœª10.8pxã€‚</p>
<h2 id="3æ³¨æ„äº‹é¡¹">3.æ³¨æ„äº‹é¡¹</h2>
<ol>
<li>
<p>chromeæµè§ˆå™¨ä¸­å¼ºåˆ¶æœ€å°å­—å·ä¸º12pxï¼Œå³ä½¿è®¾ç½®å­—å·ä¸º10pxï¼Œæœ€ç»ˆæ˜¾ç¤ºä¾ç„¶æ˜¯12pxã€‚</p>
<p>å½“æˆ‘ä»¬æŠŠhtmlçš„font-sizeè®¾ç½®æˆ10pxï¼Œå­èŠ‚ç‚¹remçš„è®¡ç®—è¿˜æ˜¯ä»¥12pxä¸ºåŸºå‡†ï¼Œæ‰€ä»¥ç½‘ä¸Šå¾ˆå¤šæ–‡ç« æåˆ°çš„å°†htmlçš„font-sizeè®¾ä¸º10pxæ–¹ä¾¿è®¡ç®—æ˜¯ä¸å¯å–çš„</p>
</li>
<li>
<p>Vw | vh | vmin | vmaxä½¿ç”¨çš„å‰ææ˜¯åœ¨ç§»åŠ¨ç«¯ï¼Œå³é¦–å…ˆè¦åœ¨<code>&lt;meta&gt;</code>ä¸­å£°æ˜ç¼©æ”¾æ¯”ä¾‹</p>
<pre><code class="language-html">&lt;meta name=&quot;viewport&quot; content='width=device-width, initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no'/&gt;
</code></pre>
</li>
<li>
<p>Vw | vh | vmin | vmax çš„å…¼å®¹æ€§</p>
<p>IE9+å±€éƒ¨æ”¯æŒ</p>
<p>Chrome/firefox/safari/operaæ”¯æŒ</p>
<p>iOS safari 8+æ”¯æŒ</p>
<p>Android browser4.4+æ”¯æŒ</p>
<p>Chrome for android39æ”¯æŒ</p>
</li>
</ol>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Promiseå’ŒAsync/Awaitç”¨æ³•æ•´ç†]]></title>
        <id>https://menglingqing.github.io/post/promise-he-asyncawait-yong-fa-zheng-li</id>
        <link href="https://menglingqing.github.io/post/promise-he-asyncawait-yong-fa-zheng-li">
        </link>
        <updated>2019-09-28T02:09:34.000Z</updated>
        <content type="html"><![CDATA[<h1 id="promiseå’Œasyncawaitç”¨æ³•æ•´ç†">Promiseå’ŒAsync/Awaitç”¨æ³•æ•´ç†</h1>
<h2 id="1promise">1.Promise</h2>
<h3 id="1ç®€ä»‹">1.ç®€ä»‹</h3>
<p>Promiseï¼Œç®€å•æ¥è¯´å°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œç±»ä¼¼äºæˆ‘ä»¬äººç±»çš„è¯ºè¨€ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œçš„ç»“æœï¼‰</p>
<p>Promiseå¯¹è±¡çš„åŸºæœ¬è¯­æ³•ï¼š</p>
<pre><code class="language-javascript">new Promise((resolve, reject) =&gt; {
  // ...
})
</code></pre>
<p>ä»è¯­æ³•ä¸Šæ¥è¯´ï¼ŒPromiseæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä»å®ƒå¯ä»¥è·å–å¼‚æ­¥æ“ä½œçš„æ¶ˆæ¯ã€‚</p>
<p>åŸºæœ¬è¯­æ³•ï¼š</p>
<pre><code class="language-javascript">let p = new Promise((resolve, reject) =&gt; {
  // ...
  resolve('success')
});
p.then(res =&gt; {
  console.log(res)
})
</code></pre>
<p>Promiseå¯¹è±¡ç‰¹ç‚¹å’Œä¸‰ä¸ªçŠ¶æ€<br>
å¯¹è±¡çš„çŠ¶æ€ä¸å—å¤–ç•Œå½±å“<br>
ä¸€æ—¦çŠ¶æ€æ”¹å˜ï¼Œå°±ä¸ä¼šå†å˜ï¼ŒçŠ¶æ€ä¼šè¢«å‡å›º</p>
<p>Pending --value --&gt;Fulfilled<br>
--error--&gt;Rejected</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="language-javascript">let p = new Promise((resolve, reject) =&gt; {
  resolve('success');
  console.log('after resolve')
  reject('error')
})

p.then(res =&gt; {
  console.log(res)
})

p.catch(res =&gt; {
  console.log(res)
})

// after resolve
// success
</code></pre>
<p>resolveä¸‹é¢çš„è¯­å¥å…¶å®æ˜¯å¯ä»¥æ‰§è¡Œçš„ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆrejectçš„çŠ¶æ€ä¿¡æ¯åœ¨ä¸‹é¢æ²¡æœ‰æ¥æ”¶åˆ°å‘¢ï¼Ÿè¿™å°±æ˜¯å› ä¸ºPromiseå¯¹è±¡çš„ç‰¹ç‚¹ï¼šçŠ¶æ€çš„å‡å›ºã€‚new å‡ºä¸€ä¸ªPromiseå¯¹è±¡æ—¶ï¼Œè¿™ä¸ªå¯¹è±¡çš„èµ·å§‹çŠ¶æ€å±€åŠ¿PendingçŠ¶æ€ï¼Œåœ¨æ ¹æ®resolveæˆ–rejectè¿”å›FullfilledçŠ¶æ€/RejectedçŠ¶æ€ã€‚</p>
<h3 id="2then">2.then</h3>
<p>å®ƒçš„ä½œç”¨æ˜¯ä¸ºPromiseå®ä¾‹æ·»åŠ çŠ¶æ€æ”¹å˜æ—¶çš„å›è°ƒå‡½æ•°ï¼Œå‚æ•°ä¸ªæ•°å¯ä»¥æœ‰ä¸¤ä¸ª<br>
1.then(func1, func2)<br>
2.then(func1)<br>
3.then(null, func2)</p>
<p>thenåˆ†åˆ«æ¥æ”¶resolveå’Œrejectçš„ä¿¡æ¯ï¼Œæœ‰ä¸‰ç§å‚æ•°å½¢å¼ï¼Œç¬¬ä¸‰ç§æ¯”è¾ƒæ€ªå¼‚ï¼Œåªç”¨æ¥æ¥æ”¶åšrejectå¤„ç†</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="language-javascript">let p = new Promise((resolve, reject) =&gt; {
  // ...
  let random = Math.random();
  if(random &gt; 0.5) resolve('random &gt; 0.5')
  else reject('random &lt; 0.5')
})

p.then(res =&gt; {
  console.log('resolve', res)
}, err =&gt; {
  console.log('reject', err)
})
</code></pre>
<h3 id="3é“¾å¼è°ƒç”¨">3.é“¾å¼è°ƒç”¨</h3>
<p>æˆ‘ä»¬æ¥æ‰§è¡Œä¸€æ®µä»£ç ï¼š</p>
<pre><code class="language-javascript">let p = new Promise((resolve, reject) =&gt; {
  reject('reject')
})

let resultP = p.then(null, res =&gt; {
  console.log(res)
})

console.log(resultP)

// Promise { &lt;pending&gt; }
// reject
</code></pre>
<p>jsçš„æ‰§è¡Œé¡ºåºå°±æ˜¯è¿™æ ·ï¼ŒåŒæ­¥-&gt;å¼‚æ­¥-&gt;å›è°ƒï¼Œåœ¨åŒæ­¥æ‰§è¡Œæ—¶ï¼ŒPromiseå¯¹è±¡è¿˜å¤„äºpendingçŠ¶æ€ï¼Œä¹Ÿè¯´æ˜äº†è¿™ä¸ªthenè¿”å›çš„æ˜¯ä¸€ä¸ªPromiseå¯¹è±¡ã€‚</p>
<p>è€Œä¸”å¿…é¡»åœ¨thené‡Œé¢ç»™ä¸€ä¸ªè¿”å›å€¼ï¼Œæ‰èƒ½ç»§ç»­è°ƒç”¨ï¼Œå¦åˆ™undefinedã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="language-javascript">let p = new Promise((resolve, reject) =&gt; {
  reject('error')
})

let resultP = p.then(null, res =&gt; {
  console.log(res)
  return 123;
})
resultP.then(tmp = &gt; {
  console.log(tmp)
})

// 'error'
// 123
</code></pre>
<h3 id="4catch">4.catch</h3>
<p>Promise.prototype.catch ç”¨äºæŒ‡å®šPromiseçŠ¶æ€å˜ä¸ºrejectedæ—¶çš„å›è°ƒå‡½æ•°ï¼Œå¯ä»¥è¢«è®¤ä¸ºæ˜¯then(null, func2)çš„ç®€å†™å½¢å¼</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="language-javascript">let p = new Promise((resolve, reject) =&gt; {
  reject('error')
})

p.catch(res =&gt; {
  console.log(res)
})
</code></pre>
<h3 id="5promiseresolve">5.Promise.resolve()</h3>
<p>Promise.resolve() å°†ç°æœ‰å¯¹è±¡è½¬ä¸ºPromiseå¯¹è±¡çš„å¿«æ·æ–¹å¼</p>
<p>ä¼ ä¸€ä¸ªæ™®é€šçš„å¯¹è±¡ï¼š</p>
<pre><code class="language-javascript">let p1 = Promise.resolve({name: 'mlq', age: 18})

p1.then(res =&gt; {
  console.log(res)
})
</code></pre>
<p>å¦‚æœæ˜¯Promiseå¯¹è±¡å‘¢ï¼Œç›´æ¥è¿”å›</p>
<pre><code class="language-javascript">let p = new Promise((resolve, reject) =&gt; {
  setTimeout(() =&gt; {
    resolve('success')
  }, 500)
})
let pp = Promise.resolve(p)
pp.then(res =&gt; {
  console.log(res)
})
console.log(pp == p)

// true
// success
</code></pre>
<h3 id="6promisereject">6.Promise.reject()</h3>
<p>Promise.reject() å¿«é€Ÿè·å–ä¸€ä¸ªæ‹’ç»çŠ¶æ€çš„Promiseå¯¹è±¡</p>
<pre><code class="language-javascript">let p = Promise.reject(123)
console.log(p)
p.then(res =&gt; {
  console.log(res)
}).catch(res =&gt; {
  console.log('catch', res)
})

// Promise{ &lt;rejected&gt; 123 }
// catch 123
</code></pre>
<h3 id="7promiseall">7.Promise.all()</h3>
<p>Promise.all()ç”¨äºå°†å¤šä¸ªPromiseå®ä¾‹ï¼ŒåŒ…è£…æˆä¸€ä¸ªæ–°çš„Promiseå®ä¾‹ã€‚</p>
<p>æˆåŠŸå’Œè¿”å›çš„æ•°æ®ç±»å‹æ˜¯ä¸ç›¸åŒçš„</p>
<pre><code class="language-javascript">let p1 = Promise.resolve(123)
let p2 = Promise.resolve('hello')
let p3 = Promise.resolve('success')
Promise.all([p1, p2, p3]).then(res =&gt; {
  console.log(res)
})

// [132, 'hello', 'success']
</code></pre>
<p>æˆåŠŸä¹‹åå°±æ˜¯æ•°ç»„ç±»å‹ï¼Œå½“æ‰€æœ‰çŠ¶æ€éƒ½æ˜¯æˆåŠŸçŠ¶æ€æ‰è¿”å›æ•°ç»„ï¼Œåªè¦å…¶ä¸­æœ‰ä¸€ä¸ªçš„å¯¹è±¡æ˜¯rejectçš„ï¼Œå°±è¿”å›rejectçš„çŠ¶æ€å€¼</p>
<pre><code class="language-javascript">let p1 = Promise.resolve(123)
let p2 = Promise.resolve('hello')
let p3 = Promise.resolve('success')
let p4 = Promise.reject('Err')

Promise.all([p1, p2, p3, p4]).then(res =&gt; {
  console.log(res)
}).catch(res =&gt; {
  console.log(res)
})

// Err
</code></pre>
<h3 id="8promiserace">8.Promise.race()</h3>
<p>å’ŒallåŒæ ·æ¥æ”¶å¤šä¸ªå¯¹è±¡ï¼Œä¸åŒçš„æ˜¯ï¼Œrace()æ¥æ”¶çš„å¯¹è±¡ä¸­ï¼Œå“ªä¸ªå¯¹è±¡è¿”å›çš„å¿«å°±è¿”å›å“ªä¸ªå¯¹è±¡ï¼Œå°±å¦‚raceå­—é¢æ„æ€ï¼ˆèµ›è·‘ï¼‰ä¸€æ ·ã€‚å¦‚æœå¯¹è±¡ä¸­æœ‰rejectçŠ¶æ€ï¼Œå¿…é¡»catchæ•æ‰åˆ°ï¼Œå¦‚æœè¿”å›çš„å¤Ÿå¿«ï¼Œå°±è¿”å›è¿™ä¸ªçŠ¶æ€ã€‚raceæœ€ç»ˆè¿”å›çš„åªæœ‰ä¸€ä¸ªå€¼ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="language-javascript">sleep(wait){
  return new Promise((res, rej) =&gt; {
    setTimeout(() =&gt; {
      res(wait)
    },wait)
  })
}

let p1 = sleep(500)
let p2 = sleep(2000)

Promise.race([p1, p2]).then(res =&gt; {
  console.log(res)
})

let pr = new Promise((res, rej) =&gt; {
  setTimeout(() =&gt; {
    reject('err')
  }, 1000)
})

Promise.race([p2, pr]).then(res =&gt; {
  console.log(res)
}).catch(res =&gt; {
  console.log(res)
})

// 500
// err
</code></pre>
<h3 id="9å¼‚å¸¸å¤„ç†">9.å¼‚å¸¸å¤„ç†</h3>
<p>å½“Promiseè¢«æ˜ç¡®æ‹’ç»æ—¶ï¼Œä¼šå‘ç”Ÿæ‹’ç»ï¼›ä½†æ˜¯å¦‚æœæ˜¯åœ¨æ„é€ å‡½æ•°å›è°ƒä¸­å¼•å‘çš„é”™è¯¯ï¼Œåˆ™ä¼šéšå¼æ‹’ç»ã€‚Promiseå†…éƒ¨çš„é”™è¯¯å¤–ç•Œç”¨try-catchæ•æ‰ä¸åˆ°</p>
<pre><code class="language-javascript">try {
  let p = new Promise((res, rej) =&gt; {
    throw new Error('err')
  })
} catch(e){
  console.log('catch', e)
}

//
</code></pre>
<p>ç»“æœä»€ä¹ˆéƒ½æ²¡æœ‰æ‰“å°å‡ºæ¥</p>
<p>ä½†æ˜¯æŠ›å‡ºçš„é”™è¯¯å¯ä»¥é€šè¿‡catchæ•æ‰</p>
<p>è¿˜æ˜¯ä¸Šé¢ğŸ‘†é‚£ä¸ªä¾‹å­</p>
<pre><code class="language-javascript">let p = new Promise((res, rej) =&gt; {
  throw new Error('err')
})
p.catch(res =&gt; {
  console.log(res)
})

// err
</code></pre>
<p>åœ¨ Promise çš„é“¾çš„å°¾éƒ¨å¿…é¡»è¦æœ‰ä¸ªcatchæ¥ç€</p>
<h2 id="2async-await">2.Async-Await</h2>
<h3 id="1-ç®€ä»‹">1. ç®€ä»‹ï¼š</h3>
<p>Async-Await</p>
<p>å¼‚æ­¥ç¼–ç¨‹çš„æœ€é«˜å¢ƒç•Œï¼Œå°±æ˜¯æ ¹æœ¬ä¸ç”¨å…³å¿ƒå®ƒæ˜¯å¼‚æ­¥çš„</p>
<p>Async-Awaitä¸Promiseçš„å…³ç³»</p>
<p>ä¸å­˜åœ¨è°æ›¿ä»£è°ï¼Œå› ä¸ºasync-awaitæ˜¯å¯„ç”Ÿäºpromiseã€‚generatorçš„è¯­æ³•ç³–</p>
<h3 id="2åŸºæœ¬è¯­æ³•">2.åŸºæœ¬è¯­æ³•</h3>
<pre><code class="language-javascript">async demo(params){}
demo()

// asyncå‡½æ•°è¿”å›çš„æ˜¯ä¸€ä¸ªPromiseå¯¹è±¡
</code></pre>
<h3 id="3-è§„åˆ™">3. è§„åˆ™</h3>
<ol>
<li>asyncè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªå¼‚æ­¥å‡½æ•°ï¼Œawaitåªèƒ½ç”¨åœ¨è¿™ä¸ªå‡½æ•°é‡Œ</li>
<li>awaitè¡¨ç¤ºåœ¨è¿™é‡Œç­‰å¾…promiseè¿”å›ç»“æœåï¼Œå†ç»§ç»­æ‰§è¡Œã€‚</li>
<li>awaitåé¢è·Ÿç€çš„åº”è¯¥æ˜¯ä¸€ä¸ªpromiseå¯¹è±¡ï¼ˆå½“ç„¶ï¼Œå…¶ä»–è¿”å›å€¼ä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œåªæ˜¯ä¼šç«‹å³æ‰§è¡Œï¼Œä¸è¿‡é‚£æ ·å°±æ²¡æœ‰æ„ä¹‰äº†ï¼‰</li>
</ol>
<p>awaitå¿…é¡»å‡ºç°åœ¨asyncå‡½æ•°å†…éƒ¨ï¼Œä¸èƒ½å•ç‹¬ä½¿ç”¨</p>
<p>awaitç­‰å¾…çš„è™½ç„¶æ˜¯promiseå¯¹è±¡ï¼Œä½†ä¸å¿…å†™.then()ï¼Œç›´æ¥å¯ä»¥å¾—åˆ°è¿”å›å€¼</p>
<h3 id="4åº”ç”¨">4.åº”ç”¨</h3>
<pre><code class="language-javascript">async demo(){
  let res1 = await sleep(100)
  let res2 = await sleep(res1 + 100)
  let res3 = await sleep(res2 + 100)
  return res3
}

demo().then(res =&gt; {
  console.log(res)
})

// 300
</code></pre>
<h3 id="5é”™è¯¯å¤„ç†">5.é”™è¯¯å¤„ç†</h3>
<p>.then()ä¸ç”¨å†™äº†ï¼Œ.catch()ä¹Ÿå¯ä»¥ä¸ç”¨å†™ï¼Œå¯ä»¥ç›´æ¥ç”¨æ ‡å‡†çš„tryï¼Œcatchè¯­æ³•æ•æ‰é”™è¯¯</p>
<p>å¦‚æœæ˜¯rejectçŠ¶æ€ï¼Œå¯ä»¥ç”¨try-catchæ•æ‰</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="language-javascript">let p = new Promise((res, reject) =&gt; {
  setTimeout(() =&gt; {
    reject('err')
  }, 100)
})

async demo (params) {
  try {
    let res = await p
  } catch(e) {
    console.log(e)
  }
}

demo();

// err
</code></pre>
<p>è¿™æ˜¯åŸºæœ¬çš„é”™è¯¯å¤„ç†ï¼Œä½†æ˜¯å½“å†…éƒ¨å‡ºç°ä¸€äº›é”™è¯¯æ—¶ï¼Œå’Œä¸Šé¢Promiseæœ‰ç‚¹ç±»ä¼¼ï¼Œdemo()å‡½æ•°ä¸ä¼šæŠ¥é”™ï¼Œè¿˜æ˜¯éœ€è¦catchå›è°ƒæ•æ‰ã€‚è¿™å°±æ˜¯å†…éƒ¨çš„é”™è¯¯è¢«â€œé™é»˜â€å¤„ç†äº†ã€‚</p>
<pre><code class="language-javascript">let p = new Promise((res,rej) =&gt; {
  setTimeout(() =&gt; {
    reject('err')
  }, 100)
});

async demo(params) {
  let res = name
}
demo().catch(err =&gt; {
  console.log(err)
})
</code></pre>
<h3 id="6æ³¨æ„å¹¶è¡Œæ‰§è¡Œå’Œå¾ªç¯">6.æ³¨æ„å¹¶è¡Œæ‰§è¡Œå’Œå¾ªç¯</h3>
<p>æ¯”å¦‚ä¸Šé¢ğŸ‘†çš„ä¾‹å­</p>
<pre><code class="language-javascript">async demo(){
  let res1 = await sleep(100)
  let res2 = await sleep(res1 + 100)
  let res3 = await sleep(res2 + 100)
  return res3
}

demo().then(res =&gt; {
  console.log(res)
})
</code></pre>
<p>å¦‚æœè¿™ä¸‰ä¸ªæ˜¯ä½ æƒ³å¼‚æ­¥å‘å‡ºçš„Ajaxè¯·æ±‚ï¼Œåœ¨è¿™æ®µä»£ç é‡Œé¢å…¶å®æ˜¯åŒæ­¥çš„ï¼Œç¬¬ä¸€ä¸ªå‘å‡ºå»æ‰ä¼šå‘ç¬¬äºŒä¸ªï¼Œæ‰€ä»¥async/awaitéœ€è¦è°¨æ…ä½¿ç”¨</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Hello Gridea]]></title>
        <id>https://menglingqing.github.io/post/hello-gridea</id>
        <link href="https://menglingqing.github.io/post/hello-gridea">
        </link>
        <updated>2018-12-11T16:00:00.000Z</updated>
        <summary type="html"><![CDATA[<p>ğŸ‘  æ¬¢è¿ä½¿ç”¨ <strong>Gridea</strong> ï¼<br>
âœï¸  <strong>Gridea</strong> ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„... ...</p>
]]></summary>
        <content type="html"><![CDATA[<p>ğŸ‘  æ¬¢è¿ä½¿ç”¨ <strong>Gridea</strong> ï¼<br>
âœï¸  <strong>Gridea</strong> ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„... ...</p>
<!-- more -->
<p><a href="https://github.com/getgridea/gridea">Github</a><br>
<a href="http://hvenotes.fehey.com/">Gridea ä¸»é¡µ</a><br>
<a href="http://fehey.com/">ç¤ºä¾‹ç½‘ç«™</a></p>
<h2 id="ç‰¹æ€§">ç‰¹æ€§ğŸ‘‡</h2>
<p>ğŸ“  ä½ å¯ä»¥ä½¿ç”¨æœ€é…·çš„ <strong>Markdown</strong> è¯­æ³•ï¼Œè¿›è¡Œå¿«é€Ÿåˆ›ä½œ</p>
<p>ğŸŒ‰  ä½ å¯ä»¥ç»™æ–‡ç« é…ä¸Šç²¾ç¾çš„å°é¢å›¾å’Œåœ¨æ–‡ç« ä»»æ„ä½ç½®æ’å…¥å›¾ç‰‡</p>
<p>ğŸ·ï¸  ä½ å¯ä»¥å¯¹æ–‡ç« è¿›è¡Œæ ‡ç­¾åˆ†ç»„</p>
<p>ğŸ“‹  ä½ å¯ä»¥è‡ªå®šä¹‰èœå•ï¼Œç”šè‡³å¯ä»¥åˆ›å»ºå¤–éƒ¨é“¾æ¥èœå•</p>
<p>ğŸ’»  ä½ å¯ä»¥åœ¨ <strong>ğ–¶ğ—‚ğ—‡ğ–½ğ—ˆğ—ğ—Œ</strong> æˆ– <strong>ğ–¬ğ–ºğ–¼ğ–®ğ–²</strong> è®¾å¤‡ä¸Šä½¿ç”¨æ­¤å®¢æˆ·ç«¯</p>
<p>ğŸŒ  ä½ å¯ä»¥ä½¿ç”¨ <strong>ğ–¦ğ—‚ğ—ğ—ğ—ğ–» ğ–¯ğ–ºğ—€ğ–¾ğ—Œ</strong> æˆ– <strong>Coding Pages</strong> å‘ä¸–ç•Œå±•ç¤ºï¼Œæœªæ¥å°†æ”¯æŒæ›´å¤šå¹³å°</p>
<p>ğŸ’¬  ä½ å¯ä»¥è¿›è¡Œç®€å•çš„é…ç½®ï¼Œæ¥å…¥ <a href="https://github.com/gitalk/gitalk">Gitalk</a> æˆ– <a href="https://github.com/SukkaW/DisqusJS">DisqusJS</a> è¯„è®ºç³»ç»Ÿ</p>
<p>ğŸ‡¬ğŸ‡§  ä½ å¯ä»¥ä½¿ç”¨<strong>ä¸­æ–‡ç®€ä½“</strong>æˆ–<strong>è‹±è¯­</strong></p>
<p>ğŸŒ  ä½ å¯ä»¥ä»»æ„ä½¿ç”¨åº”ç”¨å†…é»˜è®¤ä¸»é¢˜æˆ–ä»»æ„ç¬¬ä¸‰æ–¹ä¸»é¢˜ï¼Œå¼ºå¤§çš„ä¸»é¢˜è‡ªå®šä¹‰èƒ½åŠ›</p>
<p>ğŸ–¥  ä½ å¯ä»¥è‡ªå®šä¹‰æºæ–‡ä»¶å¤¹ï¼Œåˆ©ç”¨ OneDriveã€ç™¾åº¦ç½‘ç›˜ã€iCloudã€Dropbox ç­‰è¿›è¡Œå¤šè®¾å¤‡åŒæ­¥</p>
<p>ğŸŒ± å½“ç„¶ <strong>Gridea</strong> è¿˜å¾ˆå¹´è½»ï¼Œæœ‰å¾ˆå¤šä¸è¶³ï¼Œä½†è¯·ç›¸ä¿¡ï¼Œå®ƒä¼šä¸åœå‘å‰ğŸƒ</p>
<p>æœªæ¥ï¼Œå®ƒä¸€å®šä¼šæˆä¸ºä½ ç¦»ä¸å¼€çš„ä¼™ä¼´</p>
<p>å°½æƒ…å‘æŒ¥ä½ çš„æ‰åå§ï¼</p>
<p>ğŸ˜˜ Enjoy~</p>
]]></content>
    </entry>
</feed>